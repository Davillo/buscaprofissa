<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
layout:decorate="layout/externo/Padrao"
xmlns:buscaprofissa="http://buscaprofissa.com.br"
>

<head>


    <title>BuscaProfissa | Recuperação de senha</title>


  
  <script>

 
  
function Trim(str){
	return str.replace(/^\s+|\s+$/g,"");
}

function empty( val ) {

        if (val === undefined)
        return true;

    if (typeof (val) == 'function' || typeof (val) == 'number' || typeof (val) == 'boolean' || Object.prototype.toString.call(val) === '[object Date]')
        return false;

    if (val == null || val.length === 0)       
        return true;

    if (typeof (val) == "object") {
       

        var r = true;

        for (var f in val)
            r = false;

        return r;
    }

    return false;
}
		

	
	function verifica(dados) {
		
	
		
		if (empty(Trim(dados.codigo.value))) {
			alert("O código é um campo obrigatório!");
			return (false);
		}
		
		if (empty(Trim(dados.novasenha.value))) {
			alert("A nova senha é um campo obrigatório!");
			return (false);
		}
		
		
	
		return (true);
	}
	
</script>

</head>

	<div layout:fragment="conteudo" align="center" id="containerCentro">
    <div class="form-control conteudoMeio">
        <div class="form-login">
          
          
          <div class="text-busca">	
            <h3>Recuperação de senha</h3>
           
          
            
            
          
              </div>
            <form class="m-t" role="form" method="POST" th:action="@{/RecuperarSenhaCodigo}" onsubmit="return(verifica(this))" th:object="${usuario}">
	           
	            <div class="alert  alert-success  alert-dismissible" role="alert"
					th:if="${not #strings.isEmpty(mensagem)}" th:fragment="alert">
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				
					<span th:text="${mensagem}"></span>
				</div>
				
				 <div class="alert  alert-danger  alert-dismissible" role="alert"
					th:if="${not #strings.isEmpty(mensagemErro)}" th:fragment="alert">
					<button type="button" class="close" data-dismiss="alert"
						aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				
					<span th:text="${mensagemErro}"></span>
				</div>
               
                
                <div class="form-group">
                    <input type="text" id="codigo" class="form-control" th:field="*{codigo}" placeholder="Código de recuperação">
                </div>
                
                 <div class="form-group">
                    <input type="password" id="novasenha" class="form-control" th:field="*{senha}" placeholder="Nova senha">
                </div>
               
               
                 
                
                <button type="submit" class="btn btn-primary block full-width m-b">Alterar Senha</button>

               
                <a class="btn btn-blue block full-width m-b" th:href="@{/cadastro}">Criar uma conta</a>
                
                   <a class="btn btn-blue block full-width m-b" th:href="@{/recuperarSenha}">Recuperar senha</a>
            </form>
        </div>
    </div>
	</div>
	


</html>
